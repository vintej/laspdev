
service docker restart
root@csst-06:/home/ubuntu/laspdev# mn --clean
*** Removing excess controllers/ofprotocols/ofdatapaths/pings/noxes
killall controller ofprotocol ofdatapath ping nox_corelt-nox_core ovs-openflowd ovs-controllerovs-testcontroller udpbwtest mnexec ivs ryu-manager 2> /dev/null
killall -9 controller ofprotocol ofdatapath ping nox_corelt-nox_core ovs-openflowd ovs-controllerovs-testcontroller udpbwtest mnexec ivs ryu-manager 2> /dev/null
pkill -9 -f "sudo mnexec"
*** Removing junk from /tmp
rm -f /tmp/vconn* /tmp/vlogs* /tmp/*.out /tmp/*.log
*** Removing old X11 tunnels
*** Removing excess kernel datapaths
ps ax | egrep -o 'dp[0-9]+' | sed 's/dp/nl:/'
***  Removing OVS datapaths
ovs-vsctl --timeout=1 list-br
ovs-vsctl --timeout=1 list-br
*** Removing all links of the pattern foo-ethX
ip link show | egrep -o '([-_.[:alnum:]]+-eth[[:digit:]]+)'
ip link show
*** Killing stale mininet node processes
pkill -9 -f mininet:
*** Shutting down stale tunnels
pkill -9 -f Tunnel=Ethernet
pkill -9 -f .ssh/mn
rm -f ~/.ssh/mn/*
***  Removing SAP NAT rules
*** Cleanup complete.
root@csst-06:/home/ubuntu/laspdev# python3 build_topo.py base
*** Adding controller
*** Adding docker containers
CHOSEN IMAGE vinayaktj/lasp:base
node_objects[d6] = net.addDocker(d6, ip=11.0.0.12, dimage=chosen_image)
node_objects[d10] = net.addDocker(d10, ip=12.0.0.12, dimage=chosen_image)
1: 
node_objects[d4] = net.addDocker(d4, ip=10.0.0.14, dimage=chosen_image)
node_objects[d14] = net.addDocker(d14, ip=13.0.0.12, dimage=chosen_image)
node_objects[d20] = net.addDocker(d20, ip=14.0.0.14, dimage=chosen_image)
1: 
1: 
1: 
1: 
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d4: kwargs {'ip': '10.0.0.14'}
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d14: kwargs {'ip': '13.0.0.12'}
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d20: kwargs {'ip': '14.0.0.14'}
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d10: kwargs {'ip': '12.0.0.12'}
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d6: kwargs {'ip': '11.0.0.12'}
d14: update resources {'cpu_quota': -1}
node_objects[d15] = net.addDocker(d15, ip=13.0.0.13, dimage=chosen_image)
1: 
d4: update resources {'cpu_quota': -1}
node_objects[d2] = net.addDocker(d2, ip=10.0.0.12, dimage=chosen_image)
1: 
d6: update resources {'cpu_quota': -1}
d20: update resources {'cpu_quota': -1}
node_objects[d7] = net.addDocker(d7, ip=11.0.0.13, dimage=chosen_image)
1: 
node_objects[d17] = net.addDocker(d17, ip=14.0.0.11, dimage=chosen_image)
1: 
d10: update resources {'cpu_quota': -1}
node_objects[d11] = net.addDocker(d11, ip=12.0.0.13, dimage=chosen_image)
1: 
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d15: kwargs {'ip': '13.0.0.13'}
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d2: kwargs {'ip': '10.0.0.12'}
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d7: kwargs {'ip': '11.0.0.13'}
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d17: kwargs {'ip': '14.0.0.11'}
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d11: kwargs {'ip': '12.0.0.13'}
d15: update resources {'cpu_quota': -1}
node_objects[d16] = net.addDocker(d16, ip=13.0.0.14, dimage=chosen_image)
1: 
d2: update resources {'cpu_quota': -1}
node_objects[d3] = net.addDocker(d3, ip=10.0.0.13, dimage=chosen_image)
1: 
d17: update resources {'cpu_quota': -1}
node_objects[d18] = net.addDocker(d18, ip=14.0.0.12, dimage=chosen_image)
1: 
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d16: kwargs {'ip': '13.0.0.14'}
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d3: kwargs {'ip': '10.0.0.13'}
d7: update resources {'cpu_quota': -1}
node_objects[d5] = net.addDocker(d5, ip=11.0.0.11, dimage=chosen_image)
1: 
d11: update resources {'cpu_quota': -1}
node_objects[d12] = net.addDocker(d12, ip=12.0.0.14, dimage=chosen_image)
1: 
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d18: kwargs {'ip': '14.0.0.12'}
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d5: kwargs {'ip': '11.0.0.11'}
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d12: kwargs {'ip': '12.0.0.14'}
d16: update resources {'cpu_quota': -1}
node_objects[d13] = net.addDocker(d13, ip=13.0.0.11, dimage=chosen_image)
1: 
d3: update resources {'cpu_quota': -1}
node_objects[d1] = net.addDocker(d1, ip=10.0.0.11, dimage=chosen_image)
1: 
d18: update resources {'cpu_quota': -1}
node_objects[d19] = net.addDocker(d19, ip=14.0.0.13, dimage=chosen_image)
1: 
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d13: kwargs {'ip': '13.0.0.11'}
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d1: kwargs {'ip': '10.0.0.11'}
d5: update resources {'cpu_quota': -1}
node_objects[d8] = net.addDocker(d8, ip=11.0.0.14, dimage=chosen_image)
1: 
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d19: kwargs {'ip': '14.0.0.13'}
d12: update resources {'cpu_quota': -1}
node_objects[d9] = net.addDocker(d9, ip=12.0.0.11, dimage=chosen_image)
1: 
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d8: kwargs {'ip': '11.0.0.14'}
vinayaktj/lasp; base; None; sha256:b749a4874da770186ac369f0f3cf3a5ae2b9e6881778a05ac9e7148e9ef01c1d
vinayaktj/lasp; base; None; sha256:b4389440fb687681ec4557bf86e0774c4b8b7268f51f7595acf031eb9564d6c0
d9: kwargs {'ip': '12.0.0.11'}
d13: update resources {'cpu_quota': -1}
d1: update resources {'cpu_quota': -1}
d19: update resources {'cpu_quota': -1}
d8: update resources {'cpu_quota': -1}
d9: update resources {'cpu_quota': -1}
*** Adding switches
cluster_swithc[cluster2] = net.addSwitch(s2
cluster_swithc[cluster3] = net.addSwitch(s3
cluster_swithc[cluster1] = net.addSwitch(s1
cluster_swithc[cluster4] = net.addSwitch(s4
cluster_swithc[cluster5] = net.addSwitch(s5
*** Creating links
cluster_switch['cluster1'] =s1 r0-eth1 ip:10.0.0.10/8
net.addLink cluster_switch[cluster1]),router, intfName2= 'r0-eth1, params2={'ip':'10.0.0.10/8
cluster_switch['cluster2'] =s2 r0-eth2 ip:11.0.0.10/8
net.addLink cluster_switch[cluster2]),router, intfName2= 'r0-eth2, params2={'ip':'11.0.0.10/8
cluster_switch['cluster3'] =s3 r0-eth3 ip:12.0.0.10/8
net.addLink cluster_switch[cluster3]),router, intfName2= 'r0-eth3, params2={'ip':'12.0.0.10/8
cluster_switch['cluster4'] =s4 r0-eth4 ip:13.0.0.10/8
net.addLink cluster_switch[cluster4]),router, intfName2= 'r0-eth4, params2={'ip':'13.0.0.10/8
cluster_switch['cluster5'] =s5 r0-eth5 ip:14.0.0.10/8
net.addLink cluster_switch[cluster5]),router, intfName2= 'r0-eth5, params2={'ip':'14.0.0.10/8
net.addLink(node_objectsd6__d6, s2, delay='50ms', bw=1)
net.addLink(node_objectsd7__d7, s2, delay='50ms', bw=1)
net.addLink(node_objectsd5__d5, s2, delay='50ms', bw=1)
net.addLink(node_objectsd8__d8, s2, delay='50ms', bw=1)
net.addLink(node_objectsd10__d10, s3, delay='50ms', bw=1)
net.addLink(node_objectsd11__d11, s3, delay='50ms', bw=1)
net.addLink(node_objectsd12__d12, s3, delay='50ms', bw=1)
net.addLink(node_objectsd9__d9, s3, delay='50ms', bw=1)
net.addLink(node_objectsd4__d4, s1, delay='50ms', bw=1)
net.addLink(node_objectsd2__d2, s1, delay='50ms', bw=1)
net.addLink(node_objectsd3__d3, s1, delay='50ms', bw=1)
net.addLink(node_objectsd1__d1, s1, delay='50ms', bw=1)
net.addLink(node_objectsd14__d14, s4, delay='50ms', bw=1)
net.addLink(node_objectsd15__d15, s4, delay='50ms', bw=1)
net.addLink(node_objectsd16__d16, s4, delay='50ms', bw=1)
net.addLink(node_objectsd13__d13, s4, delay='50ms', bw=1)
net.addLink(node_objectsd20__d20, s5, delay='50ms', bw=1)
net.addLink(node_objectsd17__d17, s5, delay='50ms', bw=1)
net.addLink(node_objectsd18__d18, s5, delay='50ms', bw=1)
net.addLink(node_objectsd19__d19, s5, delay='50ms', bw=1)
*** Starting network
*** Configuring hosts
d14 d4 d6 d20 d10 d15 d2 d17 d7 d11 d16 d3 d18 d5 d12 d13 d1 d19 d8 d9 r0 
*** Starting controller
c0 
*** Starting 5 switches
s2 s3 s1 s4 s5 ...
*** Testing connectivity
net.ping([<Docker d6: d6-eth0:11.0.0.12 pid=19707> , <Docker d7: d7-eth0:11.0.0.13 pid=20482> , <Docker d5: d5-eth0:11.0.0.11 pid=21072> , <Docker d8: d8-eth0:11.0.0.14 pid=21645> ])
d6 -> d7 d5 d8 
d7 -> d6 d5 d8 
d5 -> d6 d7 d8 
d8 -> d6 d7 d5 
*** Results: 0% dropped (12/12 received)
net.ping([<Docker d10: d10-eth0:12.0.0.12 pid=19737> , <Docker d11: d11-eth0:12.0.0.13 pid=20502> , <Docker d12: d12-eth0:12.0.0.14 pid=21194> , <Docker d9: d9-eth0:12.0.0.11 pid=21823> ])
d10 -> d11 d12 d9 
d11 -> d10 d12 d9 
d12 -> d10 d11 d9 
d9 -> d10 d11 d12 
*** Results: 0% dropped (12/12 received)
net.ping([<Docker d4: d4-eth0:10.0.0.14 pid=19620> , <Docker d2: d2-eth0:10.0.0.12 pid=20214> , <Docker d3: d3-eth0:10.0.0.13 pid=20831> , <Docker d1: d1-eth0:10.0.0.11 pid=21438> ])
d4 -> d2 d3 d1 
d2 -> d4 d3 d1 
d3 -> d4 d2 d1 
d1 -> d4 d2 d3 
*** Results: 0% dropped (12/12 received)
net.ping([<Docker d14: d14-eth0:13.0.0.12 pid=19562> , <Docker d15: d15-eth0:13.0.0.13 pid=20159> , <Docker d16: d16-eth0:13.0.0.14 pid=20764> , <Docker d13: d13-eth0:13.0.0.11 pid=21415> ])
d14 -> d15 d16 d13 
d15 -> d14 d16 d13 
d16 -> d14 d15 d13 
d13 -> d14 d15 d16 
*** Results: 0% dropped (12/12 received)
net.ping([<Docker d20: d20-eth0:14.0.0.14 pid=19683> , <Docker d17: d17-eth0:14.0.0.11 pid=20301> , <Docker d18: d18-eth0:14.0.0.12 pid=20943> , <Docker d19: d19-eth0:14.0.0.13 pid=21550> ])
d20 -> d17 d18 d19 
d17 -> d20 d18 d19 
d18 -> d20 d17 d19 
d19 -> d20 d17 d18 
*** Results: 0% dropped (12/12 received)
d5 -> d9 d1 d13 d17 
d9 -> d5 d1 d13 d17 
d1 -> d5 d9 d13 d17 
d13 -> d5 d9 d1 d17 
d17 -> d5 d9 d1 d13 
*** Results: 0% dropped (20/20 received)
*** Starting Screen Sessions 
screen -t command cluster2 for node d6
screen -t command cluster3 for node d10
screen -t command cluster1 for node d4
screen -t command cluster4 for node d14
screen -t command cluster5 for node d20
screen -t command cluster2 for node d7
screen -t command cluster3 for node d11
screen -t command cluster1 for node d2
screen -t command cluster5 for node d17
screen -t command cluster4 for node d15
screen -t command cluster2 for node d5
screen -t command cluster3 for node d12
screen -t command cluster5 for node d18
screen -t command cluster1 for node d3
screen -t command cluster4 for node d16
screen -t command cluster2 for node d8
screen -t command cluster3 for node d9
screen -t command cluster5 for node d19
screen -t command cluster1 for node d1
screen -t command cluster4 for node d13
*** Running CLI
*** Starting CLI:
containernet> 