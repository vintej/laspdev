

root@csst-06:/home/ubuntu/laspdev# 
root@csst-06:/home/ubuntu/laspdev# python /home/ubuntu/laspdev/utility/setup_lasp.py d3
d3
ip:10.0.0.13
node:c
)2> lasp_peer_service:join('a@10.0.0.11').
ok
(c@10.0.0.13)3> 15:29:53.062 [error] LASPVIN Got path to 'c@11.0.0.13' ID:"c@10.0.0.13c1" 
15:29:53.344 [error] LASPVIN Got path to 'c@12.0.0.13' ID:"c@10.0.0.13c1" 
15:30:02.993 [error] LASPVIN found the peer at "2020-06-06T15:30:02.993" for ID: "c@10.0.0.13c1" ToNode: 'b@10.0.0.12' 
lasp_delta_based_synchronization_backend:time_stamp().
"2020-06-06T15:30:05.183"
(c@10.0.0.13)4> f().
ok
(c@10.0.0.13)5> Key1 = <<"key1">>.
<<"key1">>
(c@10.0.0.13)6> Key2 = <<"key2">>.
<<"key2">>
(c@10.0.0.13)7> Timestamp = fun () -> erlang:unique_integer([monotonic, positive ]) end.
#Fun<erl_eval.20.118419387>
(c@10.0.0.13)8> AwMapType = {state_awmap, [state_mvregister]}.
{state_awmap,[state_mvregister]}
(c@10.0.0.13)9> AwMapVarName = <<"awmap">>.
<<"awmap">>
(c@10.0.0.13)10> AwMapVal = #{what => i_am_vin_tej1}.
#{what => i_am_vin_tej1}
(c@10.0.0.13)11> AwMapVal2 = #{what => i_am_vin_tej2}.
#{what => i_am_vin_tej2}
(c@10.0.0.13)12> {ok, {AwMap, _, _, _}} = lasp:declare({AwMapVarName, AwMapType} , AwMapType).
{ok,{{<<"awmap">>,{state_awmap,[state_mvregister]}},
     {state_awmap,[state_mvregister]},
     [{clock,[{<<39,2,107,131,211,135,118,151,146,72,67,213,0,
                 195,127,113,36,197,82,...>>,
               1}]}],
     {state_awmap,{state_mvregister,{[],{[],[]}}}}}}
(c@10.0.0.13)13> {ok, {AwMap1, _, _, _}} = lasp:update(AwMap, {apply, Key1, {set , Timestamp(), AwMapVal}}, self()).
{ok,{{<<"awmap">>,{state_awmap,[state_mvregister]}},
     {state_awmap,[state_mvregister]},
     [{clock,[{<<39,2,107,131,211,135,118,151,146,72,67,213,0,
                 195,127,113,36,197,82,...>>,
               2}]}],
     {state_awmap,{state_mvregister,{[{<<"key1">>,
                                       [{{<0.209.0>,1},
                                         #{what => i_am_vin_tej1}}]}],
                                     {[{<0.209.0>,1}],[]}}}}}}
(c@10.0.0.13)14> lasp_delta_based_synchronization_backend:time_stamp().
"2020-06-06T15:30:23.301"
(c@10.0.0.13)15> 15:30:28.001 [error] LASPVIN Received delta From='b@10.0.0.12' at TimeStamp="2020-06-06T15:30:28.189" Took=216 microseconds 
15:30:44.064 [error] LASPVIN Received delta From='a@10.0.0.11' at TimeStamp="2020-06-06T15:30:44.641" Took=325 microseconds 
15:31:06.385 [error] LASPVIN Received delta From='d@10.0.0.14' at TimeStamp="2020-06-06T15:31:06.385" Took=20844 microseconds 
