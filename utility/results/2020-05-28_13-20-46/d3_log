Script started on 2020-05-28 13:10:02+0000
python /home/ubuntu/laspdev/utility/setup_lasp.py d3
root@csst-06:/home/ubuntu/laspdev# python /home/ubuntu/laspdev/utility/setup_lasp.py dd3
d3
ip:10.0.0.252
node:c
)2> lasp_peer_service:join('a@10.0.0.250').
ok
(c@10.0.0.252)3> 13:10:16.243 [error] LASPVIN Got path

(c@10.0.0.252)3> als   lasp_delta_based_synchronization_backend:get_members([pe  p  peer_rates )[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C
.
[{'a@10.0.0.250',"c1"},
 {'b@10.0.0.251',"c3"},
 {'d@10.0.0.253',"c2"},
 {"self_rate","c1"},
 {"subscription",'a@10.0.0.250'}]
(c@10.0.0.252)4> 13:11:25.248 [warning] global: 'c@10.0.0.252' failed to connect to 'a@11.0.0.250'

(c@10.0.0.252)4> f().
ok
(c@10.0.0.252)5> Key1 = <<"key1">>.
<<"key1">>
(c@10.0.0.252)6> Key2 = <<"key2">>.
<<"key2">>
(c@10.0.0.252)7> Timestamp = fun () -> erlang:unique_integer([monotonic, positiv e]) end.
#Fun<erl_eval.20.118419387>
(c@10.0.0.252)8> AwMapType = {state_awmap, [state_mvregister]}.
{state_awmap,[state_mvregister]}
(c@10.0.0.252)9> AwMapVarName = <<"awmap">>.
<<"awmap">>
(c@10.0.0.252)10> AwMapVal = #{what => i_am_vin_tej1}.
#{what => i_am_vin_tej1}
(c@10.0.0.252)11> AwMapVal2 = #{what => i_am_vin_tej2}.
#{what => i_am_vin_tej2}
(c@10.0.0.252)12> {ok, {AwMap, _, _, _}} = lasp:declare({AwMapVarName, AwMapType }, AwMapType).
{ok,{{<<"awmap">>,{state_awmap,[state_mvregister]}},
     {state_awmap,[state_mvregister]},
     [{clock,[{<<60,203,180,10,159,85,226,14,238,201,65,224,
                 146,237,110,177,57,174,190,...>>,
               1}]}],
     {state_awmap,{state_mvregister,{[],{[],[]}}}}}}
(c@10.0.0.252)13> 
(c@10.0.0.252)13> {ok, {AwMap1, _, _, _}} = lasp:update(AwMap, {apply, Key1, {se t, Timestamp(), AwMapVal}}, self()).
{ok,{{<<"awmap">>,{state_awmap,[state_mvregister]}},
     {state_awmap,[state_mvregister]},
     [{clock,[{<<60,203,180,10,159,85,226,14,238,201,65,224,
                 146,237,110,177,57,174,190,...>>,
               2}]}],
     {state_awmap,{state_mvregister,{[{<<"key1">>,
                                       [{{<0.209.0>,1},
                                         #{what => i_am_vin_tej1}}]}],
                                     {[{<0.209.0>,1}],[]}}}}}}
(c@10.0.0.252)14> 
(c@10.0.0.252)14> 13:11:45.758 [error] LASPVIN Received delta From='a@10.0.0.250' at TimeStamp="2020-05-28T13:11:45" Took=343 microseconds 
13:12:00.769 [error] LASPVIN Received delta From='b@10.0.0.251' at TimeStamp="2020-05-28T13:12:00" Took=23508 microseconds 
13:12:00.952 [error] LASPVIN Received delta From='d@10.0.0.253' at TimeStamp="2020-05-28T13:12:00" Took=270 microseconds 
lasp_peer_service:stop().
13:20:46.277 [notice] "received stop request"
ok
(c@10.0.0.252)15> root@d3:/opt/lasp# 
root@d3:/opt/lasp# 
root@d3:/opt/lasp# exit
exit
root@csst-06:/home/ubuntu/laspdev# 
root@csst-06:/home/ubuntu/laspdev# 
root@csst-06:/home/ubuntu/laspdev# exit
exit

Script done on 2020-05-28 13:20:51+0000
