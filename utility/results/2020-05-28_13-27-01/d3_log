Script started on 2020-05-28 13:25:19+0000
python /home/ubuntu/laspdev/utility/setup_lasp.py d3
root@csst-06:/home/ubuntu/laspdev# python /home/ubuntu/laspdev/utility/setup_lasp.py dd3
d3
ip:10.0.0.252
node:c
)2> lasp_peer_service:join('a@10.0.0.250').
ok
(c@10.0.0.252)3> 
(c@10.0.0.252)3> f().
ok
(c@10.0.0.252)4> Key1 = <<"key1">>.
<<"key1">>
(c@10.0.0.252)5> Key2 = <<"key2">>.
<<"key2">>
(c@10.0.0.252)6> Timestamp = fun () -> erlang:unique_integer([monotonic, positiv e]) end.
#Fun<erl_eval.20.118419387>
(c@10.0.0.252)7> AwMapType = {state_awmap, [state_mvregister]}.
{state_awmap,[state_mvregister]}
(c@10.0.0.252)8> AwMapVarName = <<"awmap">>.
<<"awmap">>
(c@10.0.0.252)9> AwMapVal = #{what => i_am_vin_tej1}.
#{what => i_am_vin_tej1}
(c@10.0.0.252)10> AwMapVal2 = #{what => i_am_vin_tej2}.
#{what => i_am_vin_tej2}
(c@10.0.0.252)11> {ok, {AwMap, _, _, _}} = lasp:declare({AwMapVarName, AwMapType }, AwMapType).
{ok,{{<<"awmap">>,{state_awmap,[state_mvregister]}},
     {state_awmap,[state_mvregister]},
     [{clock,[{<<60,203,180,10,159,85,226,14,238,201,65,224,
                 146,237,110,177,57,174,190,...>>,
               1}]}],
     {state_awmap,{state_mvregister,{[],{[],[]}}}}}}
(c@10.0.0.252)12> 
(c@10.0.0.252)12> {ok, {AwMap1, _, _, _}} = lasp:update(AwMap, {apply, Key1, {se t, Timestamp(), AwMapVal}}, self()).
{ok,{{<<"awmap">>,{state_awmap,[state_mvregister]}},
     {state_awmap,[state_mvregister]},
     [{clock,[{<<60,203,180,10,159,85,226,14,238,201,65,224,
                 146,237,110,177,57,174,190,...>>,
               2}]}],
     {state_awmap,{state_mvregister,{[{<<"key1">>,
                                       [{{<0.209.0>,1},
                                         #{what => i_am_vin_tej1}}]}],
                                     {[{<0.209.0>,1}],[]}}}}}}
(c@10.0.0.252)13> 
(c@10.0.0.252)13> 13:25:43.723 [error] LASPVIN Recevied delta From='a@10.0.0.250' at TimeStamp= "2020-05-28T13:25:43" microseconds=250 
13:25:53.535 [error] LASPVIN Recevied delta From='d@10.0.0.253' at TimeStamp= "2020-05-28T13:25:53" microseconds=233 
13:25:53.632 [error] LASPVIN Recevied delta From='b@10.0.0.251' at TimeStamp= "2020-05-28T13:25:53" microseconds=236 
lasp_peer_service:stop().
13:27:01.240 [notice] "received stop request"
ok
(c@10.0.0.252)14> root@d3:/opt/lasp# 
root@d3:/opt/lasp# 
root@d3:/opt/lasp# 
root@d3:/opt/lasp# 
root@d3:/opt/lasp# exit
exit
root@csst-06:/home/ubuntu/laspdev# exit
exit

Script done on 2020-05-28 13:27:17+0000
